/*
	CDYNEWeather.m
	The implementation classes and methods for the Weather web service.
	Generated by SudzC.com
*/

#import "CDYNEWeather.h"
				
#import "Soap.h"
	
#import "CDYNEWeatherDescription.h"
#import "CDYNEtemp.h"
#import "CDYNEPOP.h"
#import "CDYNEWeatherReturn.h"
#import "CDYNEArrayOfWeatherDescription.h"
#import "CDYNEForecastReturn.h"
#import "CDYNEArrayOfForecast.h"
#import "CDYNEForecast.h"

/* Implementation of the service */
				
@implementation CDYNEWeather

	- (id) init
	{
		if(self = [super init])
		{
			self.serviceUrl = @"http://wsf.cdyne.com/WeatherWS/Weather.asmx";
			self.namespace = @"http://ws.cdyne.com/WeatherWS/";
			self.headers = nil;
			self.logging = NO;
		}
		return self;
	}
	
	- (id) initWithUsername: (NSString*) username andPassword: (NSString*) password {
		if(self = [super initWithUsername:username andPassword:password]) {
		}
		return self;
	}
	
	+ (CDYNEWeather*) service {
		return [CDYNEWeather serviceWithUsername:nil andPassword:nil];
	}
	
	+ (CDYNEWeather*) serviceWithUsername: (NSString*) username andPassword: (NSString*) password {
		return [[[CDYNEWeather alloc] initWithUsername:username andPassword:password] autorelease];
	}

		
	/* Returns NSMutableArray*. Gets Information for each WeatherID */
	- (SoapRequest*) GetWeatherInformation: (id <SoapDelegate>) handler
	{
		return [self GetWeatherInformation: handler action: nil];
	}

	- (SoapRequest*) GetWeatherInformation: (id) _target action: (SEL) _action
		{
		NSMutableArray* _params = [NSMutableArray array];
		
		NSString* _envelope = [Soap createEnvelope: @"GetWeatherInformation" forNamespace: self.namespace withParameters: _params withHeaders: self.headers];
		SoapRequest* _request = [SoapRequest create: _target action: _action service: self soapAction: @"http://ws.cdyne.com/WeatherWS/GetWeatherInformation" postData: _envelope deserializeTo: [[CDYNEArrayOfWeatherDescription alloc] autorelease]];
		[_request send];
		return _request;
	}

	/* Returns CDYNEForecastReturn*. Allows you to get your City Forecast Over the Next 7 Days, which is updated hourly. U.S. Only */
	- (SoapRequest*) GetCityForecastByZIP: (id <SoapDelegate>) handler ZIP: (NSString*) ZIP
	{
		return [self GetCityForecastByZIP: handler action: nil ZIP: ZIP];
	}

	- (SoapRequest*) GetCityForecastByZIP: (id) _target action: (SEL) _action ZIP: (NSString*) ZIP
		{
		NSMutableArray* _params = [NSMutableArray array];
		
		[_params addObject: [[[SoapParameter alloc] initWithValue: ZIP forName: @"ZIP"] autorelease]];
		NSString* _envelope = [Soap createEnvelope: @"GetCityForecastByZIP" forNamespace: self.namespace withParameters: _params withHeaders: self.headers];
		SoapRequest* _request = [SoapRequest create: _target action: _action service: self soapAction: @"http://ws.cdyne.com/WeatherWS/GetCityForecastByZIP" postData: _envelope deserializeTo: [[CDYNEForecastReturn alloc] autorelease]];
		[_request send];
		return _request;
	}

	/* Returns CDYNEWeatherReturn*. Allows you to get your City's Weather, which is updated hourly. U.S. Only */
	- (SoapRequest*) GetCityWeatherByZIP: (id <SoapDelegate>) handler ZIP: (NSString*) ZIP
	{
		return [self GetCityWeatherByZIP: handler action: nil ZIP: ZIP];
	}

	- (SoapRequest*) GetCityWeatherByZIP: (id) _target action: (SEL) _action ZIP: (NSString*) ZIP
		{
		NSMutableArray* _params = [NSMutableArray array];
		
		[_params addObject: [[[SoapParameter alloc] initWithValue: ZIP forName: @"ZIP"] autorelease]];
		NSString* _envelope = [Soap createEnvelope: @"GetCityWeatherByZIP" forNamespace: self.namespace withParameters: _params withHeaders: self.headers];
		SoapRequest* _request = [SoapRequest create: _target action: _action service: self soapAction: @"http://ws.cdyne.com/WeatherWS/GetCityWeatherByZIP" postData: _envelope deserializeTo: [[CDYNEWeatherReturn alloc] autorelease]];
		[_request send];
		return _request;
	}


@end
	